<Window x:Class="NetToolkit.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="NetToolkit - Premium Network Engineering Suite"
        Height="900" Width="1400" MinHeight="600" MinWidth="1000"
        WindowStyle="None" AllowsTransparency="True" 
        Background="Transparent" ResizeMode="CanResize"
        WindowStartupLocation="CenterScreen">
    
    <!-- GENIUS DESIGN: Frameless window with custom chrome for premium feel -->
    <Window.Resources>
        <!-- DUAL THEME SYSTEM: LIGHT & DARK MODE WITH CYBERPUNK ACCENTS -->
        <!-- LIGHT THEME RESOURCES -->
        <SolidColorBrush x:Key="LightPrimaryBackground" Color="#FEFEFE" Opacity="0.98"/>
        <SolidColorBrush x:Key="LightSecondaryBackground" Color="#F8F9FA" Opacity="0.95"/>
        <SolidColorBrush x:Key="LightTextPrimary" Color="#2C3E50"/>
        <SolidColorBrush x:Key="LightTextSecondary" Color="#7F8C8D"/>
        <SolidColorBrush x:Key="LightGlassMorphism" Color="#FFFFFF" Opacity="0.85"/>
        
        <!-- DARK THEME RESOURCES -->
        <SolidColorBrush x:Key="DarkPrimaryBackground" Color="#0D1B2A" Opacity="0.98"/>
        <SolidColorBrush x:Key="DarkSecondaryBackground" Color="#1B263B" Opacity="0.95"/>
        <SolidColorBrush x:Key="DarkTextPrimary" Color="#E0E1DD"/>
        <SolidColorBrush x:Key="DarkTextSecondary" Color="#9DB4C0"/>
        <SolidColorBrush x:Key="DarkGlassMorphism" Color="#415A77" Opacity="0.85"/>
        
        <!-- DYNAMIC THEME BRUSHES - Will be overridden by ThemeManager -->
        <SolidColorBrush x:Key="PrimaryBackground" Color="#FEFEFE" Opacity="0.98"/>
        <SolidColorBrush x:Key="SecondaryBackground" Color="#F8F9FA" Opacity="0.95"/>
        <SolidColorBrush x:Key="TextPrimary" Color="#2C3E50"/>
        <SolidColorBrush x:Key="TextSecondary" Color="#7F8C8D"/>
        <SolidColorBrush x:Key="GlassMorphism" Color="#FFFFFF" Opacity="0.85"/>
        
        <!-- SHARED ACCENTS -->
        <SolidColorBrush x:Key="AccentNeon" Color="#39FF14"/>
        <SolidColorBrush x:Key="AccentDark" Color="#1E3A5F"/>
        <SolidColorBrush x:Key="AccentGold" Color="#FFD700"/>
        <SolidColorBrush x:Key="AccentRed" Color="#FF6B6B"/>
        
        <!-- PREMIUM SHADOW EFFECTS FOR FLOATING PANELS -->
        <DropShadowEffect x:Key="FloatingShadow" 
                         ShadowDepth="3" BlurRadius="12" 
                         Color="Black" Opacity="0.15"/>
        <DropShadowEffect x:Key="PremiumGlow" 
                         ShadowDepth="0" BlurRadius="20" 
                         Color="#39FF14" Opacity="0.3"/>
        <DropShadowEffect x:Key="SubtleShadow" 
                         ShadowDepth="1" BlurRadius="6" 
                         Color="Black" Opacity="0.08"/>
        
        <!-- Smooth Animation Storyboards -->
        <Storyboard x:Key="FadeIn">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" 
                           From="0" To="1" Duration="0:0:0.3">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
        
        <!-- ENHANCED GLASSMORPHISM BUTTON STYLE WITH CYBERPUNK ACCENTS -->
        <Style x:Key="GlowButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{DynamicResource GlassMorphism}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource TextSecondary}"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                               BorderBrush="{TemplateBinding BorderBrush}" 
                               BorderThickness="{TemplateBinding BorderThickness}"
                               CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="BorderBrush" Value="{DynamicResource AccentNeon}"/>
                    <Setter Property="Foreground" Value="{DynamicResource AccentNeon}"/>
                    <Setter Property="Effect" Value="{StaticResource SubtleShadow}"/>
                    <Setter Property="Background">
                        <Setter.Value>
                            <SolidColorBrush Color="#39FF14" Opacity="0.05"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Effect" Value="{StaticResource PremiumGlow}"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <!-- PREMIUM MODULE NAVIGATION BUTTON STYLE -->
        <Style x:Key="ModuleButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{DynamicResource GlassMorphism}"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="16,10"/>
            <Setter Property="Margin" Value="0,3"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Effect" Value="{StaticResource SubtleShadow}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="ButtonBorder"
                               Background="{TemplateBinding Background}" 
                               BorderBrush="{TemplateBinding BorderBrush}" 
                               BorderThickness="{TemplateBinding BorderThickness}"
                               CornerRadius="12">
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" 
                                            VerticalAlignment="Center"
                                            Margin="{TemplateBinding Padding}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ColorAnimation Storyboard.TargetName="ButtonBorder"
                                                          Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)"
                                                          To="#39FF14" Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ColorAnimation Storyboard.TargetName="ButtonBorder"
                                                          Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)"
                                                          To="Transparent" Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    
    <!-- Main Container with Frosted Glass Background -->
    <Border Background="{DynamicResource PrimaryBackground}" 
            CornerRadius="12" BorderThickness="1" 
            BorderBrush="{DynamicResource TextSecondary}"
            Effect="{StaticResource FloatingShadow}">
        
        <Grid>
            <Grid.RowDefinitions>
                <!-- Custom Title Bar -->
                <RowDefinition Height="40"/>
                <!-- Main Content Area -->
                <RowDefinition Height="*"/>
                <!-- Status Bar -->
                <RowDefinition Height="30"/>
            </Grid.RowDefinitions>
            
            <!-- CUSTOM TITLE BAR (Draggable) -->
            <Border Grid.Row="0" Background="{DynamicResource SecondaryBackground}" 
                    CornerRadius="12,12,0,0" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- Application Title with Icon -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal" 
                               VerticalAlignment="Center" Margin="16,0">
                        <TextBlock Text="ðŸŒ" FontSize="16" Margin="0,0,8,0"/>
                        <TextBlock Text="NetToolkit" FontWeight="SemiBold" 
                                  Foreground="{DynamicResource TextPrimary}" FontSize="14"/>
                        <TextBlock Text=" - Premium Network Engineering Suite" 
                                  Foreground="{DynamicResource TextSecondary}" FontSize="12"/>
                    </StackPanel>
                    
                    <!-- Window Controls -->
                    <StackPanel Grid.Column="1" Orientation="Horizontal">
                        <!-- DARK MODE TOGGLE -->
                        <Button x:Name="ThemeToggleButton" Content="ðŸŒ™" Width="35" Height="30" 
                               Style="{StaticResource GlowButtonStyle}"
                               Click="ThemeToggle_Click" 
                               ToolTip="Toggle Dark/Light Theme - Ninja stealth mode"
                               FontSize="14" Margin="0,0,8,0"/>
                        
                        <Button Content="â”€" Width="30" Height="30" 
                               Style="{StaticResource GlowButtonStyle}"
                               Click="MinimizeButton_Click" 
                               ToolTip="Minimize NetToolkit to taskbar"/>
                        <Button Content="â–¡" Width="30" Height="30" 
                               Style="{StaticResource GlowButtonStyle}"
                               Click="MaximizeButton_Click" 
                               ToolTip="Maximize window to full screen"/>
                        <Button Content="Ã—" Width="30" Height="30" 
                               Style="{StaticResource GlowButtonStyle}"
                               Click="CloseButton_Click" 
                               ToolTip="Close NetToolkit application"/>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- MAIN CONTENT AREA -->
            <Grid Grid.Row="1" Margin="8">
                <Grid.ColumnDefinitions>
                    <!-- Navigation Panel -->
                    <ColumnDefinition Width="200"/>
                    <!-- Splitter -->
                    <ColumnDefinition Width="4"/>
                    <!-- Content Area -->
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- FLOATING NAVIGATION PANEL (Scandinavian Design) -->
                <Border Grid.Column="0" Background="{DynamicResource SecondaryBackground}" 
                       CornerRadius="8" Effect="{StaticResource FloatingShadow}" Margin="0,0,0,8">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Margin="8">
                        <StackPanel>
                            <!-- Ninja Face Loop Video in Corner (Replacing Image Banner) -->
                            <Border x:Name="NavigationVideoContainer" 
                                   Height="80" 
                                   CornerRadius="6" 
                                   Margin="0,0,0,12"
                                   ClipToBounds="True">
                                <MediaElement x:Name="NavigationVideoLoop" 
                                            LoadedBehavior="Play" 
                                            UnloadedBehavior="Manual" 
                                            IsMuted="True" 
                                            Opacity="0.9"
                                            Stretch="UniformToFill"
                                            MediaOpened="NavigationVideo_MediaOpened"
                                            MediaEnded="NavigationVideo_MediaEnded"
                                            MediaFailed="NavigationVideo_MediaFailed"/>
                            </Border>
                            
                            <!-- Module Navigation Buttons -->
                            <TextBlock Text="Modules" FontWeight="Bold" 
                                     Foreground="{DynamicResource TextPrimary}" Margin="8,8,8,16"/>
                            
                            <Button x:Name="BtnEducation" Content="ðŸŽ“ Education Platform" 
                                   Style="{StaticResource ModuleButtonStyle}"
                                   Click="NavigateToModule" Tag="Education"
                                   ToolTip="Interactive learning with 10 comprehensive network engineering modules"/>
                            
                            <Button x:Name="BtnNetworkScanner" Content="ðŸ” Network Scanner" 
                                   Style="{StaticResource ModuleButtonStyle}"
                                   Click="NavigateToModule" Tag="NetworkScanner"
                                   ToolTip="3D network topology visualization with real-time device discovery"/>
                            
                            <Button x:Name="BtnSecurityScan" Content="ðŸ”’ Security Scanner" 
                                   Style="{StaticResource ModuleButtonStyle}"
                                   Click="NavigateToModule" Tag="SecurityScan"
                                   ToolTip="Advanced vulnerability detection and security assessment tools"/>
                            
                            <Button x:Name="BtnSshTerminal" Content="ðŸ“Ÿ SSH Terminal" 
                                   Style="{StaticResource ModuleButtonStyle}"
                                   Click="NavigateToModule" Tag="SshTerminal"
                                   ToolTip="Professional SSH client with device management and terminal emulation"/>
                            
                            <Button x:Name="BtnPowerShell" Content="ðŸ’» PowerShell" 
                                   Style="{StaticResource ModuleButtonStyle}"
                                   Click="NavigateToModule" Tag="PowerShell"
                                   ToolTip="Embedded PowerShell console with Microsoft Graph integration"/>
                            
                            <Button x:Name="BtnAiOrb" Content="ðŸ¤– AI Orb" 
                                   Style="{StaticResource ModuleButtonStyle}"
                                   Click="NavigateToModule" Tag="AiOrb"
                                   ToolTip="Intelligent AI assistant with OCR, chat, and network analysis capabilities"/>
                            
                            <Button x:Name="BtnMicrosoftAdmin" Content="ðŸ¢ Microsoft Admin" 
                                   Style="{StaticResource ModuleButtonStyle}"
                                   Click="NavigateToModule" Tag="MicrosoftAdmin"
                                   ToolTip="Azure and Microsoft 365 administration tools with Graph API integration"/>
                            
                            <!-- Quick Actions Section -->
                            <Separator Margin="0,16"/>
                            <TextBlock Text="Quick Actions" FontWeight="Bold" 
                                     Foreground="{DynamicResource TextPrimary}" Margin="8,8,8,16"/>
                            
                            <Button Content="ðŸ”„ Refresh Services" 
                                   Style="{StaticResource GlowButtonStyle}" Height="32" Margin="0,2" HorizontalAlignment="Stretch"
                                   Click="RefreshServices_Click"
                                   ToolTip="Refresh all backend services, modules, and Three.js visualizations"/>
                            <Button Content="ðŸ¤– Launch AI Orb" 
                                   Style="{StaticResource GlowButtonStyle}" Height="32" Margin="0,2" HorizontalAlignment="Stretch"
                                   Click="LaunchFloatingAiOrb_Click"
                                   ToolTip="Launch floating AI Orb widget with 3D visualization and drag functionality"/>
                            <Button Content="âš™ï¸ Settings" 
                                   Style="{StaticResource GlowButtonStyle}" Height="32" Margin="0,2" HorizontalAlignment="Stretch"
                                   Click="OpenSettings_Click"
                                   ToolTip="Open application settings, preferences, and Three.js configuration options"/>
                        </StackPanel>
                    </ScrollViewer>
                </Border>
                
                <!-- SPLITTER -->
                <GridSplitter Grid.Column="1" Background="{DynamicResource TextSecondary}" 
                             Opacity="0.3" HorizontalAlignment="Stretch"/>
                
                <!-- MAIN CONTENT PRESENTER (Three.js Integration Area) -->
                <Border Grid.Column="2" Background="{DynamicResource PrimaryBackground}" 
                       CornerRadius="8" Effect="{StaticResource FloatingShadow}" Margin="0,0,0,8">
                    <Grid>
                        <!-- Dynamic Content Area -->
                        <ContentControl x:Name="MainContentPresenter" Margin="16">
                            <!-- Default Welcome Screen -->
                            <Grid x:Name="WelcomeScreenGrid">
                                <!-- Random Background Image Container -->
                                <Image x:Name="WelcomeBackgroundImage" 
                                       Opacity="0.2"
                                       Stretch="UniformToFill"/>
                                
                                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                    <TextBlock Text="ðŸš€" FontSize="64" HorizontalAlignment="Center" Margin="0,0,0,16"/>
                                    <TextBlock Text="Welcome to NetToolkit" FontSize="28" FontWeight="Bold" 
                                             Foreground="{DynamicResource TextPrimary}" HorizontalAlignment="Center"/>
                                    <TextBlock Text="Select a module from the navigation panel to get started" 
                                             FontSize="16" Foreground="{StaticResource TextSecondary}" 
                                             HorizontalAlignment="Center" Margin="0,8,0,0"/>
                                    <TextBlock Text="âœ¨ Premium Network Engineering at Your Fingertips âœ¨" 
                                             FontSize="14" Foreground="{StaticResource AccentNeon}" 
                                             HorizontalAlignment="Center" Margin="0,16,0,0" FontStyle="Italic"/>
                                </StackPanel>
                                
                                <!-- Background Three.js Particle Effect (Placeholder) -->
                                <Border x:Name="ThreeJsContainer" Background="Transparent" Opacity="0.1">
                                    <TextBlock Text="[Three.js Particle Background]" 
                                             HorizontalAlignment="Center" VerticalAlignment="Bottom" 
                                             Foreground="{StaticResource TextSecondary}" FontSize="10"/>
                                </Border>
                            </Grid>
                        </ContentControl>
                        
                        <!-- WebView2 Container (Hidden by default) -->
                        <Grid x:Name="WebView2Container" Visibility="Collapsed">
                            <!-- WebView2 will be programmatically added here -->
                        </Grid>
                    </Grid>
                </Border>
            </Grid>
            
            <!-- MINIMALIST STATUS BAR -->
            <Border Grid.Row="2" Background="{StaticResource SecondaryBackground}" 
                   CornerRadius="0,0,12,12">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="16,0">
                    <Ellipse Width="8" Height="8" Fill="{StaticResource AccentNeon}" Margin="0,0,8,0"/>
                    <TextBlock Text="All modules loaded successfully" 
                             Foreground="{StaticResource TextSecondary}" FontSize="12"/>
                    <TextBlock Text="  â€¢  ðŸ’¾ Auto-saved  â€¢  âš¡ Performance: Optimal" 
                             Foreground="{StaticResource TextSecondary}" FontSize="12"/>
                    
                    <!-- System Status (Right-aligned) -->
                    <TextBlock HorizontalAlignment="Right" Margin="20,0,0,0"
                             Text="ðŸ”§ Backend: Ready  â€¢  ðŸŽ¨ UI: Premium Mode" 
                             Foreground="{StaticResource TextSecondary}" FontSize="12"/>
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>
